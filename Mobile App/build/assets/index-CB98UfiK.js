const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-BxsLmLfl.js","assets/index-oVrvYLc-.js","assets/index-BKXw_VyK.js","assets/index-BCzjWOUE.css"])))=>i.map(i=>d[i]);
import{_ as l}from"./index-BKXw_VyK.js";import{r as d,W as s}from"./index-oVrvYLc-.js";const c=d("Share",{web:()=>l(()=>import("./web-BxsLmLfl.js"),__vite__mapDeps([0,1,2,3])).then(o=>new o.ShareWeb)});class b extends s{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else if(e.image)if(typeof ClipboardItem<"u")try{const t=await(await fetch(e.image)).blob(),a=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([a])}catch{throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const e=await navigator.clipboard.read(),t=e[0].types[0],a=await e[0].getType(t);return{value:await this._getBlobData(a,t),type:t}}catch{return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise((a,n)=>{const r=new FileReader;t.includes("image")?r.readAsDataURL(e):r.readAsText(e),r.onloadend=()=>{const i=r.result;a(i)},r.onerror=i=>{n(i)}})}}const g=d("Clipboard",{web:()=>new b});export{g as C,c as S};

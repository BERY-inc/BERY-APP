import{c as O,r as l,j as e,B as t,A as Y,e as w,M as H,I as E,S as _,m as Q,t as o}from"./index-BKXw_VyK.js";import{H as R,N as X}from"./index-oVrvYLc-.js";import{P as G}from"./phone-Dcc2TRdp.js";import{W as J}from"./wallet-ChetYcD-.js";import{X as K}from"./x-UiBAlNwc.js";import{m as T}from"./proxy-BXaEAfrz.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],I=O("pen",V),Z=({isOpen:n,onClose:h,onConfirm:S,cartItems:c,totalBery:b,totalUSD:u,isProcessing:i})=>n?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-[#1a1a2e] rounded-2xl border border-slate-700/40 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700/40",children:[e.jsx("h3",{className:"text-lg text-white font-semibold",children:"Confirm Purchase"}),e.jsx(t,{variant:"ghost",size:"icon",onClick:h,className:"text-slate-400 hover:text-white hover:bg-slate-800/50 rounded-full",children:e.jsx(K,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm text-slate-300 mb-2",children:"Items:"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:c.map(a=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-300",children:[a.name," ",e.jsxs("span",{className:"text-slate-500",children:["(x",a.quantity,")"]})]}),e.jsxs("span",{className:"text-white",children:["â‚¿",(parseFloat(a.price.replace("â‚¿","").replace("From","").trim())*a.quantity).toFixed(2)]})]},a.id))})]}),e.jsx("div",{className:"py-3 border-t border-b border-slate-700/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-base text-white font-semibold",children:"Total Amount"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-base text-white font-bold",children:["â‚¿",b.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-slate-400",children:["$",u.toFixed(2)," USD"]})]})]})}),e.jsx("p",{className:"text-sm text-slate-400 mt-3 mb-5",children:"Are you sure you want to proceed with this purchase?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t,{variant:"outline",onClick:h,className:"flex-1 bg-transparent border-slate-600/40 text-white hover:bg-slate-800/50",children:"Cancel"}),e.jsx(t,{onClick:S,disabled:i,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 disabled:opacity-50",children:i?"Processing...":"Proceed"})]})]})]})}):null;function ne({cartItems:n,totalBery:h,totalUSD:S,walletBalance:c,onBack:b,onConfirmPurchase:u}){const[i,a]=l.useState(!1),[D,p]=l.useState(!1),[j,z]=l.useState("123 Main Street, New York, NY 10001"),[f,U]=l.useState("+1 (555) 123-4567"),[C,N]=l.useState(!1),[P,v]=l.useState(!1),[x,F]=l.useState(j),[m,k]=l.useState(f),g=n.reduce((s,r)=>{const L=r.numericPrice!==void 0?r.numericPrice:parseFloat(r.price.replace("â‚¿","").replace("From","").trim());return s+L*r.quantity},0)/8.9,A=g*.1,y=g+A+0,d=y/8.9,M=()=>{x.trim()?(z(x),localStorage.setItem("checkoutAddress",x),N(!1),o.success("Address updated successfully")):o.error("Address cannot be empty")},W=()=>{F(j),N(!1)},$=()=>{m.trim()?(U(m),localStorage.setItem("checkoutPhone",m),v(!1),o.success("Phone number updated successfully")):o.error("Phone number cannot be empty")},q=()=>{k(f),v(!1)},B=async()=>{if(p(!1),c<d){o.error("Insufficient Funds",{description:`You need â‚¿${d.toFixed(2)} but only have â‚¿${c.toFixed(2)} in your wallet.`}),a(!1);return}try{R.notification({type:X.Success})}catch{}a(!0),setTimeout(()=>{u("bery",d),a(!1)},1500)};return e.jsxs("div",{className:"h-screen overflow-y-auto bg-[#0a0a1a] pb-32",children:[e.jsxs("div",{className:"bg-[#0a0a1a] px-5 pt-14 pb-4 flex items-center justify-between",children:[e.jsx(t,{variant:"ghost",size:"icon",onClick:b,className:"text-white hover:bg-slate-800/50 rounded-full",children:e.jsx(Y,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-base text-white",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Checkout"}),e.jsx("div",{className:"w-10"})," "]}),e.jsx("div",{className:"px-5 py-6",children:e.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs(w,{className:"p-5 bg-[#0a0a1a] border border-slate-700/40 mb-6",children:[e.jsx("h2",{className:"text-lg text-white mb-4",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:"Order Summary"}),e.jsx("div",{className:"space-y-4 mb-6",children:n.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-600/20 to-blue-800/20 flex items-center justify-center overflow-hidden",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover",onError:r=>{r.currentTarget.style.display="none",r.currentTarget.parentElement.innerHTML='<span class="text-2xl">ðŸ›’</span>'}}):e.jsx("span",{className:"text-2xl",children:"ðŸ›’"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm text-white font-medium truncate",children:s.name}),e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:s.category}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-slate-300",children:["Qty: ",s.quantity]}),e.jsxs("span",{className:"text-sm text-white font-medium",children:["â‚¿",((s.numericPrice!==void 0?s.numericPrice:parseFloat(s.price.replace("â‚¿","").replace("From","").trim()))*s.quantity).toFixed(2)]})]})]})]},s.id))}),e.jsxs("div",{className:"pt-4 border-t border-slate-700/40",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-400"}),e.jsx("h3",{className:"text-sm text-white font-semibold",children:"Delivery Address"})]}),!C&&e.jsxs(t,{variant:"ghost",size:"sm",onClick:()=>N(!0),className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 h-8 px-2",children:[e.jsx(I,{className:"w-3.5 h-3.5 mr-1"}),"Edit"]})]}),C?e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{value:x,onChange:s=>F(s.target.value),placeholder:"Enter delivery address",className:"bg-[#1a1a2e] border-slate-600/40 text-white text-sm"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{onClick:M,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white h-8",children:"Save"}),e.jsx(t,{onClick:W,variant:"outline",size:"sm",className:"flex-1 bg-transparent border-slate-600/40 text-slate-300 hover:bg-slate-800/50 h-8",children:"Cancel"})]})]}):e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:j})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-700/40 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-blue-400"}),e.jsx("h3",{className:"text-sm text-white font-semibold",children:"Contact Number"})]}),!P&&e.jsxs(t,{variant:"ghost",size:"sm",onClick:()=>v(!0),className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 h-8 px-2",children:[e.jsx(I,{className:"w-3.5 h-3.5 mr-1"}),"Edit"]})]}),P?e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{value:m,onChange:s=>k(s.target.value),placeholder:"Enter phone number",type:"tel",className:"bg-[#1a1a2e] border-slate-600/40 text-white text-sm"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{onClick:$,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white h-8",children:"Save"}),e.jsx(t,{onClick:q,variant:"outline",size:"sm",className:"flex-1 bg-transparent border-slate-600/40 text-slate-300 hover:bg-slate-800/50 h-8",children:"Cancel"})]})]}):e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:f})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-700/40 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-300",children:"Subtotal"}),e.jsxs("span",{className:"text-sm text-white",children:["$",g.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-300",children:"Tax (10%)"}),e.jsxs("span",{className:"text-sm text-white",children:["$",A.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-300",children:"Shipping"}),e.jsx("span",{className:"text-sm text-green-400",children:"Free"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-700/40",children:[e.jsx("span",{className:"text-base text-white font-bold",children:"Total"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-base text-white font-bold",children:["â‚¿",d.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-slate-400",children:["$",y.toFixed(2)," USD"]})]})]})]})]}),e.jsxs(w,{className:"p-5 bg-[#0a0a1a] border border-slate-700/40 mb-6",children:[e.jsx("h2",{className:"text-lg text-white mb-4",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:"Wallet Balance"}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl border border-slate-700/40 bg-[#0a0a1a]",children:[e.jsx(J,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-white font-medium",children:"Bery Wallet"}),e.jsxs("p",{className:"text-xs text-slate-400",children:["â‚¿",c.toFixed(2)," available"]})]})]})]}),e.jsx(w,{className:"p-5 bg-[#0a0a1a] border border-slate-700/40 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-blue-400"}),e.jsx("p",{className:"text-sm text-slate-300",children:"Your payment is secured with bank-level encryption"})]})}),e.jsx(t,{onClick:()=>p(!0),disabled:i,className:"w-full h-14 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 disabled:opacity-50",children:i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5"}),e.jsx("span",{children:"Confirm Purchase"})]})})]})}),e.jsx(Z,{isOpen:D,onClose:()=>p(!1),onConfirm:B,cartItems:n,totalBery:d,totalUSD:y,isProcessing:i})]})}export{ne as CheckoutPage};

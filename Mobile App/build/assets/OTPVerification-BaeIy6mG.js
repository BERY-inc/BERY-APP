import{r,j as e,B as x,A as E,S as R}from"./index-Bqz_yRq7.js";import{m as p}from"./proxy-BKIinVtD.js";function F({onBack:b,onVerify:y,phoneOrEmail:j,type:g}){const[o,c]=r.useState(["","","","","",""]),[u,f]=r.useState(""),[i,h]=r.useState(60),a=r.useRef([]);r.useEffect(()=>{a.current[0]?.focus()},[]),r.useEffect(()=>{if(i>0){const s=setTimeout(()=>h(i-1),1e3);return()=>clearTimeout(s)}},[i]);const N=(s,t)=>{if(!/^\d*$/.test(t))return;const n=[...o];if(n[s]=t.slice(-1),c(n),f(""),t&&s<5&&a.current[s+1]?.focus(),s===5&&t){const l=n.join("");l.length===6&&m(l)}},w=(s,t)=>{t.key==="Backspace"&&!o[s]&&s>0&&a.current[s-1]?.focus()},v=s=>{s.preventDefault();const t=s.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(t))return;const n=[...o];t.split("").forEach((D,d)=>{d<6&&(n[d]=D)}),c(n);const l=Math.min(t.length,5);a.current[l]?.focus(),t.length===6&&m(t)},m=s=>{const t=s||o.join("");if(t.length!==6){f("Please enter all 6 digits");return}y(t)},C=()=>{h(60),c(["","","","","",""]),a.current[0]?.focus()};return e.jsxs("div",{className:"h-screen overflow-y-auto bg-[#0a0a1a]",children:[e.jsx("div",{className:"px-5 pt-14 pb-6",children:e.jsx(x,{variant:"ghost",size:"icon",onClick:b,className:"text-white hover:bg-slate-800/50 rounded-full",children:e.jsx(E,{className:"w-5 h-5"})})}),e.jsx("div",{className:"px-5 max-w-md mx-auto",children:e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center mx-auto mb-6",children:e.jsx(R,{className:"w-10 h-10 text-white"})}),e.jsxs("h1",{className:"text-2xl text-white mb-3",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:["Verify Your ",g==="email"?"Email":"Phone"]}),e.jsxs("p",{className:"text-sm text-slate-400 mb-8",children:["We sent a 6-digit code to",e.jsx("br",{}),e.jsx("span",{className:"text-white",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:j})]}),e.jsx("div",{className:"flex gap-3 justify-center mb-4",onPaste:v,children:o.map((s,t)=>e.jsx("input",{ref:n=>a.current[t]=n,type:"text",inputMode:"numeric",maxLength:1,value:s,onChange:n=>N(t,n.target.value),onKeyDown:n=>w(t,n),className:"w-12 h-14 text-center text-xl bg-[#1a1a2e] border border-slate-700/40 rounded-xl text-white focus:border-blue-500 focus:outline-none transition-colors",style:{fontFamily:"monospace",fontWeight:700}},t))}),u&&e.jsx(p.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-400 mb-4",children:u}),e.jsx("div",{className:"mb-8",children:i>0?e.jsxs("p",{className:"text-sm text-slate-400",children:["Resend code in"," ",e.jsxs("span",{className:"text-white",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:[i,"s"]})]}):e.jsx("button",{onClick:C,className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Resend Code"})}),e.jsx(x,{onClick:()=>m(),className:"w-full h-14 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-base rounded-xl",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:"Verify & Continue"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-6",children:["Didn't receive the code?"," ",e.jsx("button",{className:"text-blue-400 hover:text-blue-300",children:"Contact Support"})]})]})})]})}export{F as OTPVerification};
